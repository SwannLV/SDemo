{"ts":1351175602780,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":true,"ts":1351175606091,"patch":[[{"diffs":[[1,"/**\n* Tutorials:\n* http://www.html5rocks.com/en/tutorials/webaudio/games/\n* http://www.html5rocks.com/en/tutorials/webaudio/positional_audio/ <- +1 as it is three.js\n* http://www.html5rocks.com/en/tutorials/webaudio/intro/\n*\n* Spec:\n* https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html\n*\n* Chromium Demo:\n* http://chromium.googlecode.com/svn/trunk/samples/audio/index.html <- running page\n* http://code.google.com/p/chromium/source/browse/trunk/samples/audio/ <- source\n*/\n\n\n/**\n* Notes on removing tQuery dependancy\n* * some stuff depends on tQuery\n* * find which one\n* * tQuery.Webaudio got a world link for the listener\n* * do a plugin with followListener(world), unfollowListener(world)\n* * namespace become WebAudio.* instead of WebAudio.*\n*/\n\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n// WebAudio //\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////\n\n\n/**\n* Main class to handle webkit audio\n*\n* TODO make the clip detector from http://www.html5rocks.com/en/tutorials/webaudio/games/\n*\n* @class Handle webkit audio API\n*\n* @param {tQuery.World} [world] the world on which to run\n*/\nWebAudio    = function(){\n// sanity check - the api MUST be available\nconsole.assert(WebAudio.isAvailable === true, 'webkitAudioContext isnt available on your browser');\n\n// create the context\nthis._ctx\t= new webkitAudioContext();\n\n// setup internal variable\nthis._muted\t= false;\nthis._volume\t= 1;\n\n// setup the end of the node chain\n// TODO later code the clipping detection from http://www.html5rocks.com/en/tutorials/webaudio/games/\nthis._gainNode\t= this._ctx.createGainNode();\nthis._compressor= this._ctx.createDynamicsCompressor();\nthis._gainNode.connect( this._compressor );\nthis._compressor.connect( this._ctx.destination );\t\n\n// init page visibility\nthis._pageVisibilityCtor();\t\n};\n\n\n/**\n* vendor.js way to make plugins ala jQuery\n* @namespace\n*/\nWebAudio.fn\t= WebAudio.prototype;\n\n\n/**\n* destructor\n*/\nWebAudio.prototype.destroy\t= function(){\nthis._pageVisibilityDtor();\n};\n\n/**\n*\n*\n* @return {Boolean} true if it is available or not\n*/\nWebAudio.isAvailable\t= window.webkitAudioContext ? true : false;\n\n//////////////////////////////////////////////////////////////////////////////////\n// //\n//////////////////////////////////////////////////////////////////////////////////\n\n/**\n* get the audio context\n*\n* @returns {AudioContext} the audio context\n*/\nWebAudio.prototype.context\t= function(){\nreturn this._ctx;\n};\n\n/**\n* Create a sound\n*\n* @returns {WebAudio.Sound} the sound just created\n*/\nWebAudio.prototype.createSound\t= function()\n{\nvar webaudio\t= this;\nvar sound\t= new WebAudio.Sound(webaudio);\nreturn sound;\n}\n\n\n/**\n* return the entry node in the master node chains\n*/\nWebAudio.prototype._entryNode\t= function(){\n//return this._ctx.destination;\nreturn this._gainNode;\n}\n\n//////////////////////////////////////////////////////////////////////////////////\n// volume/mute //\n//////////////////////////////////////////////////////////////////////////////////\n\n/**\n* getter/setter on the volume\n*/\nWebAudio.prototype.volume\t= function(value){\nif( value === undefined )\treturn this._volume;\n// update volume\nthis._volume\t= value;\n// update actual volume IIF not muted\nif( this._muted === false ){\nthis._gainNode.gain.value\t= this._volume;\t\n}\n// return this for chained API\nreturn this;\n};\n\n/**\n* getter/setter for mute\n*/\nWebAudio.prototype.mute\t= function(value){\nif( value === undefined )\treturn this._muted;\nthis._muted\t= value;\nthis._gainNode.gain.value\t= this._muted ? 0 : this._volume;\nreturn this;\t// for chained API\n}\n\n/**\n* to toggle the mute\n*/\nWebAudio.prototype.toggleMute\t= function(){\nif( this.mute() )\tthis.mute(false);\nelse\tthis.mute(true);\n}\n\n//////////////////////////////////////////////////////////////////////////////////\n// pageVisibility //\n//////////////////////////////////////////////////////////////////////////////////\n\n\nWebAudio.prototype._pageVisibilityCtor\t= function(){\n// shim to handle browser vendor\nthis._pageVisibilityEventStr\t= (document.hidden !== undefined\t? 'visibilitychange'\t:\n(document.mozHidden\t!== undefined\t? 'mozvisibilitychange'\t:\n(document.msHidden\t!== undefined\t? 'msvisibilitychange'\t:\n(document.webkitHidden\t!== undefined\t? 'webkitvisibilitychange' :\nconsole.assert(false, \"Page Visibility API unsupported\")\n))));\nthis._pageVisibilityDocumentStr\t= (document.hidden !== undefined ? 'hidden' :\n(document.mozHidden\t!== undefined ? 'mozHidden' :\n(document.msHidden\t!== undefined ? 'msHidden' :\n(document.webkitHidden\t!== undefined ? 'webkitHidden' :\nconsole.assert(false, \"Page Visibility API unsupported\")\n))));\n// event handler for visibilitychange event\nthis._$pageVisibilityCallback\t= function(){\nvar isHidden\t= document[this._pageVisibilityDocumentStr] ? true : false;\nthis.mute( isHidden ? true : false );\n}.bind(this);\n// bind the event itself\ndocument.addEventListener(this._pageVisibilityEventStr, this._$pageVisibilityCallback, false);\n}\n\nWebAudio.prototype._pageVisibilityDtor\t= function(){\n// unbind the event itself\ndocument.removeEventListener(this._pageVisibilityEventStr, this._$pageVisibilityCallback, false);\n}/**\n* Constructor\n*\n* @class builder to generate nodes chains. Used in WebAudio.Sound\n* @param {webkitAudioContext} audioContext the audio context\n*/\nWebAudio.NodeChainBuilder\t= function(audioContext){\nconsole.assert( audioContext instanceof webkitAudioContext );\nthis._context\t= audioContext;\nthis._firstNode\t= null;\nthis._lastNode\t= null;\nthis._nodes\t= {};\n};\n\n/**\n* destructor\n*/\nWebAudio.NodeChainBuilder.prototype.destroy\t= function(){\n};\n\n/**\n* getter for the nodes\n*/\nWebAudio.NodeChainBuilder.prototype.nodes\t= function(){\nreturn this._nodes;\n}\n\n/**\n* @returns the first node of the chain\n*/\nWebAudio.NodeChainBuilder.prototype.first\t= function(){\nreturn this._firstNode;\n}\n\n/**\n* @returns the last node of the chain\n*/\nWebAudio.NodeChainBuilder.prototype.last\t= function(){\nreturn this._lastNode;\n}\n\nWebAudio.NodeChainBuilder.prototype._addNode\t= function(node, properties)\n{\n// update this._bufferSourceDst - needed for .cloneBufferSource()\nvar lastIsBufferSource\t= this._lastNode && ('playbackRate' in this._lastNode) ? true : false;\nif( lastIsBufferSource )\tthis._bufferSourceDst\t= node;\n\n// connect this._lastNode to node if suitable\nif( this._lastNode !== null )\tthis._lastNode.connect(node);\n\n// update this._firstNode && this._lastNode\nif( this._firstNode === null )\tthis._firstNode\t= node;\nthis._lastNode\t= node;\n\n// apply properties to the node\nfor( var property in properties ){\nnode[property]\t= properties[property];\n}\n\n// for chained API\nreturn this;\n};\n\n\n/**\n* Clone the bufferSource. Used just before playing a sound\n* @returns {AudioBufferSourceNode} the clone AudioBufferSourceNode\n*/\nWebAudio.NodeChainBuilder.prototype.cloneBufferSource\t= function(){\nconsole.assert(this._nodes.bufferSource, \"no buffersource presents. Add one.\");\nvar orig\t= this._nodes.bufferSource;\nvar clone\t= this._context.createBufferSource()\nclone.buffer\t= orig.buffer;\nclone.playbackRate\t= orig.playbackRate;\nclone.loop\t= orig.loop;\nclone.connect(this._bufferSourceDst);\nreturn clone;\n}\n\n/**\n* add a bufferSource\n*\n* @param {Object} [properties] properties to set in the created node\n*/\nWebAudio.NodeChainBuilder.prototype.bufferSource\t= function(properties){\nvar node\t= this._context.createBufferSource()\nthis._nodes.bufferSource= node;\nreturn this._addNode(node, properties)\n};\n\n/**\n* add a panner\n*\n* @param {Object} [properties] properties to set in the created node\n*/\nWebAudio.NodeChainBuilder.prototype.panner\t= function(properties){\nvar node\t= this._context.createPanner()\nthis._nodes.panner\t= node;\nreturn this._addNode(node, properties)\n};\n\n/**\n* add a analyser\n*\n* @param {Object} [properties] properties to set in the created node\n*/\nWebAudio.NodeChainBuilder.prototype.analyser\t= function(properties){\nvar node\t= this._context.createAnalyser()\nthis._nodes.analyser\t= node;\nreturn this._addNode(node, properties)\n};\n\n/**\n* add a gainNode\n*\n* @param {Object} [properties] properties to set in the created node\n*/\nWebAudio.NodeChainBuilder.prototype.gainNode\t= function(properties){\nvar node\t= this._context.createGainNode()\nthis._nodes.gainNode\t= node;\nreturn this._addNode(node, properties)\n};\n\n/**\n* sound instance\n*\n* @class Handle one sound for WebAudio\n*\n* @param {tQuery.World} [world] the world on which to run\n* @param {WebAudio.NodeChainBuilder} [nodeChain] the nodeChain to use\n*/\nWebAudio.Sound\t= function(webaudio, nodeChain){\nthis._webaudio\t= webaudio;\nthis._context\t= this._webaudio.context();\n\nconsole.assert( this._webaudio instanceof WebAudio );\n\n// create a default NodeChainBuilder if needed\nif( nodeChain === undefined ){\nnodeChain\t= new WebAudio.NodeChainBuilder(this._context)\n.bufferSource().gainNode().analyser().panner();\n}\n// setup this._chain\nconsole.assert( nodeChain instanceof WebAudio.NodeChainBuilder );\nthis._chain\t= nodeChain;\n\n// connect this._chain.last() node to this._webaudio._entryNode()\nthis._chain.last().connect( this._webaudio._entryNode() );\n\n// create some alias\nthis._source\t= this._chain.nodes().bufferSource;\nthis._gainNode\t= this._chain.nodes().gainNode;\nthis._analyser\t= this._chain.nodes().analyser;\nthis._panner\t= this._chain.nodes().panner;\n\n// sanity check\nconsole.assert(this._source\t, \"no bufferSource: not yet supported\")\nconsole.assert(this._gainNode\t, \"no gainNode: not yet supported\")\nconsole.assert(this._analyser\t, \"no analyser: not yet supported\")\nconsole.assert(this._panner\t, \"no panner: not yet supported\")\n};\n\n/**\n* destructor\n*/\nWebAudio.Sound.prototype.destroy\t= function(){\n// disconnect from this._webaudio\nthis._chain.last().disconnect();\n// destroy this._chain\nthis._chain.destroy();\nthis._chain\t= null;\n};\n\n/**\n* vendor.js way to make plugins ala jQuery\n* @namespace\n*/\nWebAudio.Sound.fn\t= WebAudio.Sound.prototype;\n\n//////////////////////////////////////////////////////////////////////////////////\n// //\n//////////////////////////////////////////////////////////////////////////////////\n\n/**\n* getter of the chain nodes\n*/\nWebAudio.Sound.prototype.nodes\t= function(){\nreturn this._chain.nodes();\n};\n\n/**\n* @returns {Boolean} true if the sound is playable, false otherwise\n*/\nWebAudio.Sound.prototype.isPlayable\t= function(){\nreturn this._source.buffer ? true : false;\n};\n\n/**\n* play the sound\n*\n* @param {Number} [time] time when to play the sound\n*/\nWebAudio.Sound.prototype.play\t= function(time){\nif( time === undefined )\ttime\t= 0;\n// clone the bufferSource\nvar clonedNode\t= this._chain.cloneBufferSource();\n// set the noteOn\nclonedNode.noteOn(time);\n// create the source object\nvar source\t= {\nnode\t: clonedNode,\nstop\t: function(time){\nif( time === undefined )\ttime\t= 0;\nthis.node.noteOff(time);\nreturn source;\t// for chained API\n}\n}\n// return it\nreturn source;\n};\n\n/**\n* getter/setter on the volume\n*\n* @param {Number} [value] the value to set, if not provided, get current value\n*/\nWebAudio.Sound.prototype.volume\t= function(value){\nif( value === undefined )\treturn this._gainNode.gain.value;\nthis._gainNode.gain.value\t= value;\nreturn this;\t// for chained API\n};\n\n\n/**\n* getter/setter on the loop\n*\n* @param {Number} [value] the value to set, if not provided, get current value\n*/\nWebAudio.Sound.prototype.loop\t= function(value){\nif( value === undefined )\treturn this._source.loop;\nthis._source.loop\t= value;\nreturn this;\t// for chained API\n};\n\n/**\n* getter/setter on the source buffer\n*\n* @param {Number} [value] the value to set, if not provided, get current value\n*/\nWebAudio.Sound.prototype.buffer\t= function(value){\nif( value === undefined )\treturn this._source.buffer;\nthis._source.buffer\t= value;\nreturn this;\t// for chained API\n};\n\n\n/**\n* Set parameter for the pannerCone\n*\n* @param {Number} innerAngle the inner cone hangle in radian\n* @param {Number} outerAngle the outer cone hangle in radian\n* @param {Number} outerGain the gain to apply when in the outerCone\n*/\nWebAudio.Sound.prototype.pannerCone\t= function(innerAngle, outerAngle, outerGain)\n{\nthis._panner.coneInnerAngle\t= innerAngle * 180 / Math.PI;\nthis._panner.coneOuterAngle\t= outerAngle * 180 / Math.PI;\nthis._panner.coneOuterGain\t= outerGain;\nreturn this;\t// for chained API\n};\n\n/**\n* getter/setter on the pannerConeInnerAngle\n*\n* @param {Number} value the angle in radian\n*/\nWebAudio.Sound.prototype.pannerConeInnerAngle\t= function(value){\nif( value === undefined )\treturn this._panner.coneInnerAngle / 180 * Math.PI;\nthis._panner.coneInnerAngle\t= value * 180 / Math.PI;\nreturn this;\t// for chained API\n};\n\n/**\n* getter/setter on the pannerConeOuterAngle\n*\n* @param {Number} value the angle in radian\n*/\nWebAudio.Sound.prototype.pannerConeOuterAngle\t= function(value){\nif( value === undefined )\treturn this._panner.coneOuterAngle / 180 * Math.PI;\nthis._panner.coneOuterAngle\t= value * 180 / Math.PI;\nreturn this;\t// for chained API\n};\n\n/**\n* getter/setter on the pannerConeOuterGain\n*\n* @param {Number} value the value\n*/\nWebAudio.Sound.prototype.pannerConeOuterGain\t= function(value){\nif( value === undefined )\treturn this._panner.coneOuterGain;\nthis._panner.coneOuterGain\t= value;\nreturn this;\t// for chained API\n};\n\n/**\n* compute the amplitude of the sound (not sure at all it is the proper term)\n*\n* @param {Number} width the number of frequencyBin to take into account\n* @returns {Number} return the amplitude of the sound\n*/\nWebAudio.Sound.prototype.amplitude\t= function(width)\n{\n// handle paramerter\nwidth\t= width !== undefined ? width : 2;\n// inint variable\nvar analyser\t= this._analyser;\nvar freqByte\t= new Uint8Array(analyser.frequencyBinCount);\n// get the frequency data\nanalyser.getByteFrequencyData(freqByte);\n// compute the sum\nvar sum\t= 0;\nfor(var i = 0; i < width; i++){\nsum\t+= freqByte[i];\n}\n// complute the amplitude\nvar amplitude\t= sum / (width*256-1);\n// return ampliture\nreturn amplitude;\n}\n\n/**\n* Generate a sinusoid buffer.\n* FIXME should likely be in a plugin\n*/\nWebAudio.Sound.prototype.tone\t= function(hertz, seconds){\n// handle parameter\nhertz\t= hertz !== undefined ? hertz : 200;\nseconds\t= seconds !== undefined ? seconds : 1;\n// set default value\nvar nChannels\t= 1;\nvar sampleRate\t= 44100;\nvar amplitude\t= 2;\n// create the buffer\nvar buffer\t= webaudio.context().createBuffer(nChannels, seconds*sampleRate, sampleRate);\nvar fArray\t= buffer.getChannelData(0);\n// fill the buffer\nfor(var i = 0; i < fArray.length; i++){\nvar time\t= i / buffer.sampleRate;\nvar angle\t= hertz * time * Math.PI;\nfArray[i]\t= Math.sin(angle)*amplitude;\n}\n// set the buffer\nthis.buffer(buffer);\nreturn this;\t// for chained API\n}\n\n\n/**\n* Put this function is .Sound with getByt as private callback\n*/\nWebAudio.Sound.prototype.makeHistogram\t= function(nBar)\n{\t\n// get analyser node\nvar analyser\t= this._analyser;\n// allocate the private histo if needed - to avoid allocating at every frame\n//this._privHisto = this._privHisto || new Float32Array(analyser.frequencyBinCount);\nthis._privHisto\t= this._privHisto || new Uint8Array(analyser.frequencyBinCount);\n// just an alias\nvar freqData\t= this._privHisto;\n\n// get the data\n//analyser.getFloatFrequencyData(freqData)\nanalyser.getByteFrequencyData(freqData);\n//analyser.getByteTimeDomainData(freqData)\n\n/**\n* This should be in imageprocessing.js almost\n*/\nvar makeHisto\t= function(srcArr, dstLength){\nvar barW\t= Math.floor(srcArr.length / dstLength);\nvar nBar\t= Math.floor(srcArr.length / barW);\nvar arr\t= []\nfor(var x = 0, arrIdx = 0; x < srcArr.length; arrIdx++){\nvar sum\t= 0;\nfor(var i = 0; i < barW; i++, x++){\nsum += srcArr[x];\n}\nvar average\t= sum/barW;\narr[arrIdx]\t= average;\n}\nreturn arr;\n}\n// build the histo\nvar histo\t= makeHisto(freqData, nBar);\n// return it\nreturn histo;\n}\n\n//////////////////////////////////////////////////////////////////////////////////\n// //\n//////////////////////////////////////////////////////////////////////////////////\n\n/**\n* Load a sound\n*\n* @param {String} url the url of the sound to load\n* @param {Function} callback function to notify once the url is loaded (optional)\n*/\nWebAudio.Sound.prototype.load = function(url, callback){\nthis._loadAndDecodeSound(url, function(buffer){\nthis._source.buffer\t= buffer;\ncallback && callback(this);\n}.bind(this), function(){\nconsole.warn(\"unable to load sound \"+url);\n});\nreturn this;\t// for chained API\n};\n\n/**\n* Load and decode a sound\n*\n* @param {String} url the url where to get the sound\n* @param {Function} onLoad the function called when the sound is loaded and decoded (optional)\n* @param {Function} onError the function called when an error occured (optional)\n*/\nWebAudio.Sound.prototype._loadAndDecodeSound\t= function(url, onLoad, onError){\nvar context\t= this._context;\nvar request\t= new XMLHttpRequest();\nrequest.open('GET', url, true);\nrequest.responseType\t= 'arraybuffer';\n// Decode asynchronously\nrequest.onload\t= function() {\ncontext.decodeAudioData(request.response, function(buffer) {\nonLoad && onLoad(buffer);\n}, function(){\nonError && onError();\n});\n};\n// actually start the request\nrequest.send();\n}\n/**\n* gowiththeflow.js - a javascript flow control micro library\n* https://github.com/jeromeetienne/gowiththeflow.js\n*/\nWebAudio.Flow\t= function(){\nvar self, stack = [], timerId = setTimeout(function(){ timerId = null; self._next(); }, 0);\nreturn self = {\ndestroy : function(){ timerId && clearTimeout(timerId); },\npar\t: function(callback, isSeq){\nif(isSeq || !(stack[stack.length-1] instanceof Array)) stack.push([]);\nstack[stack.length-1].push(callback);\nreturn self;\n},seq\t: function(callback){ return self.par(callback, true);\t},\n_next\t: function(err, result){\nvar errors = [], results = [], callbacks = stack.shift() || [], nbReturn = callbacks.length, isSeq = nbReturn == 1;\nfor(var i = 0; i < callbacks.length; i++){\n(function(fct, index){\nfct(function(error, result){\nerrors[index]\t= error;\nresults[index]\t= result;\t\nif(--nbReturn == 0)\tself._next(isSeq?errors[0]:errors, isSeq?results[0]:results)\n}, err, result)\n})(callbacks[i], i);\n}\n}\n}\n};\n\n\n\nGitHub Links\n\n    GitHub\n    About\n    Blog\n    Features\n    Contact & Support\n    Training\n    GitHub Enterprise\n    Site Status\n\n    Clients\n    GitHub for Mac\n    GitHub for Windows\n    GitHub for Eclipse\n    GitHub Mobile Apps\n\n    Tools\n    Gauges: Web analytics\n    Speaker Deck: Presentations\n    Gist: Code snippets\n    Extras\n    Job Board\n    GitHub Shop\n    The Octodex\n\n    Documentation\n    GitHub Help\n    Developer API\n    GitHub Flavored Markdown\n    GitHub Pages\n\n    Terms of Service\n    Privacy\n    Security\n\n© 2012 GitHub Inc. All rights reserved.\n"]],"start1":0,"start2":0,"length1":0,"length2":18836}]],"length":18836,"saved":false}
{"ts":1351175612749,"patch":[[{"diffs":[[0,"};\n\n"],[-1,"\n\nGitHub Links\n\n    GitHub\n    About\n    Blog\n    Features\n    Contact & Support\n    Training\n    GitHub Enterprise\n    Site Status\n\n    Clients\n    GitHub for Mac\n    GitHub for Windows\n    GitHub for Eclipse\n    GitHub Mobile Apps\n\n    Tools\n    Gauges: Web analytics\n    Speaker Deck: Presentations\n    Gist: Code snippets\n    Extras\n    Job Board\n    GitHub Shop\n    The Octodex\n\n    Documentation\n    GitHub Help\n    Developer API\n    GitHub Flavored Markdown\n    GitHub Pages\n\n    Terms of Service\n    Privacy\n    Security\n\n© 2012 GitHub Inc. All rights reserved.\n"]],"start1":18262,"start2":18262,"length1":574,"length2":4}]],"length":18266,"saved":false}
{"ts":1351175693085,"patch":[[{"diffs":[[1,"\n"],[0,"/**\n"],[1," "],[0,"* Tutori"]],"start1":0,"start2":0,"length1":12,"length2":14},{"diffs":[[0,"orials:\n"],[1," "],[0,"* http:/"]],"start1":11,"start2":11,"length1":16,"length2":17},{"diffs":[[0,"/games/\n"],[1," "],[0,"* http:/"]],"start1":69,"start2":69,"length1":16,"length2":17},{"diffs":[[0,"hree.js\n"],[1," "],[0,"* http:/"]],"start1":162,"start2":162,"length1":16,"length2":17},{"diffs":[[0,"ro/\n"],[1," "],[0,"*\n"],[1," "],[0,"* Spec:\n"],[1," "],[0,"* ht"]],"start1":224,"start2":224,"length1":18,"length2":21},{"diffs":[[0,"on.html\n"],[1," "],[0,"*\n"],[1," "],[0,"* Chromi"]],"start1":305,"start2":305,"length1":18,"length2":20},{"diffs":[[0,"m Demo:\n"],[1," "],[0,"* http:/"]],"start1":326,"start2":326,"length1":16,"length2":17},{"diffs":[[0,"ex.html "],[1," "],[0,"<- runni"]],"start1":395,"start2":395,"length1":16,"length2":17},{"diffs":[[0,"ng page\n"],[1," "],[0,"* http:/"]],"start1":412,"start2":412,"length1":16,"length2":17},{"diffs":[[0,"/\n\n\n/**\n"],[1," "],[0,"* Notes "]],"start1":503,"start2":503,"length1":16,"length2":17},{"diffs":[[0,"endancy\n"],[1," "],[0,"* * some"]],"start1":542,"start2":542,"length1":16,"length2":17},{"diffs":[[0," tQuery\n"],[1," "],[0,"* * find"]],"start1":576,"start2":576,"length1":16,"length2":17},{"diffs":[[0,"ich one\n"],[1," "],[0,"* * tQue"]],"start1":596,"start2":596,"length1":16,"length2":17},{"diffs":[[0,"istener\n"],[-1,"*"],[1," *  "],[0," * do a "]],"start1":651,"start2":651,"length1":17,"length2":20},{"diffs":[[0,"(world)\n"],[1," "],[0,"* * name"]],"start1":722,"start2":722,"length1":16,"length2":17},{"diffs":[[0,"////\n// "],[1,"   \t"],[0,"WebAudio"],[-1," "],[1,"\t\t\t\t\t\t\t"],[0,"//\n/////"]],"start1":1033,"start2":1033,"length1":25,"length2":35},{"diffs":[[0,"/\n\n\n/**\n"],[1," "],[0,"* Main c"]],"start1":1310,"start2":1310,"length1":16,"length2":17},{"diffs":[[0,"t audio\n"],[-1,"*\n"],[1," * \n "],[0,"* TODO m"]],"start1":1347,"start2":1347,"length1":18,"length2":21},{"diffs":[[0,"/games/\n"],[1," "],[0,"*\n"],[1," "],[0,"* @class"]],"start1":1442,"start2":1442,"length1":18,"length2":20},{"diffs":[[0,"dio API\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":1479,"start2":1479,"length1":18,"length2":20},{"diffs":[[0,"h to run"],[1," "],[0,"\n*/\nWebA"]],"start1":1540,"start2":1540,"length1":16,"length2":17},{"diffs":[[0,"WebAudio"],[-1,"    "],[1,"\t"],[0,"= functi"]],"start1":1553,"start2":1553,"length1":20,"length2":17},{"diffs":[[0,"function(){\n"],[1,"\t"],[0,"// sanity ch"]],"start1":1564,"start2":1564,"length1":24,"length2":25},{"diffs":[[0,"ailable\n"],[1,"\t"],[0,"console."]],"start1":1613,"start2":1613,"length1":16,"length2":17},{"diffs":[[0,"browser');\n\n"],[1,"\t"],[0,"// create th"]],"start1":1711,"start2":1711,"length1":24,"length2":25},{"diffs":[[0,"context\n"],[1,"\t"],[0,"this._ct"]],"start1":1738,"start2":1738,"length1":16,"length2":17},{"diffs":[[0,"ext();\n\n"],[1,"\t"],[0,"// setup"]],"start1":1778,"start2":1778,"length1":16,"length2":17},{"diffs":[[0,"ariable\n"],[1,"\t"],[0,"this._mu"]],"start1":1806,"start2":1806,"length1":16,"length2":17},{"diffs":[[0,"ed\t= false;\n"],[1,"\t"],[0,"this._volume"]],"start1":1824,"start2":1824,"length1":24,"length2":25},{"diffs":[[0,"e\t= 1;\n\n"],[1,"\t"],[0,"// setup"]],"start1":1848,"start2":1848,"length1":16,"length2":17},{"diffs":[[0,"e chain\n"],[1,"\t"],[0,"// TODO "]],"start1":1884,"start2":1884,"length1":16,"length2":17},{"diffs":[[0,"o/games/"],[-1,"\n"],[1," \n\t"],[0,"this._ga"]],"start1":1986,"start2":1986,"length1":17,"length2":19},{"diffs":[[0,"GainNode();\n"],[1,"\t"],[0,"this._compre"]],"start1":2030,"start2":2030,"length1":24,"length2":25},{"diffs":[[0,"mpressor();\n"],[1,"\t"],[0,"this._gainNo"]],"start1":2087,"start2":2087,"length1":24,"length2":25},{"diffs":[[0,"mpressor );\n"],[1,"\t"],[0,"this._compre"]],"start1":2132,"start2":2132,"length1":24,"length2":25},{"diffs":[[0,"on );\t\n\n"],[1,"\t"],[0,"// init "]],"start1":2190,"start2":2190,"length1":16,"length2":17},{"diffs":[[0,"ibility\n"],[1,"\t"],[0,"this._pa"]],"start1":2215,"start2":2215,"length1":16,"length2":17},{"diffs":[[0,";\t\n};\n\n\n/**\n"],[1," "],[0,"* vendor.js "]],"start1":2250,"start2":2250,"length1":24,"length2":25},{"diffs":[[0,"gins ala jQuery\n"],[1," "],[0,"* @namespace\n*/\n"]],"start1":2290,"start2":2290,"length1":32,"length2":33},{"diffs":[[0,"type;\n\n\n/**\n"],[-1,""],[0,""],[1," "],[0,"* destructor"]],"start1":2351,"start2":2351,"length1":24,"length2":25},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"this._pa"]],"start1":2413,"start2":2413,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[-1,"*\n"],[1," * \n "],[0,"*\n"],[1," "],[0,"* @retur"]],"start1":2450,"start2":2450,"length1":20,"length2":24},{"diffs":[[0,"/////////////\n//"],[-1," "],[1,"\t\t\t\t\t\t\t\t\t\t"],[0,"//\n/////////////"]],"start1":2655,"start2":2655,"length1":33,"length2":42},{"diffs":[[0,"//////\n\n/**\n"],[1," "],[0,"* get the au"]],"start1":2760,"start2":2760,"length1":24,"length2":25},{"diffs":[[0,"context\n"],[1," "],[0,"*\n"],[1," "],[0,"* @retur"]],"start1":2789,"start2":2789,"length1":18,"length2":20},{"diffs":[[0,"t\t= function(){\n"],[1,"\t"],[0,"return this._ctx"]],"start1":2873,"start2":2873,"length1":32,"length2":33},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* Create"]],"start1":2908,"start2":2908,"length1":16,"length2":17},{"diffs":[[0,"a sound\n"],[1," "],[0,"*\n"],[1," "],[0,"* @retur"]],"start1":2926,"start2":2926,"length1":18,"length2":20},{"diffs":[[0,"ion()\n{\n"],[1,"\t"],[0,"var weba"]],"start1":3030,"start2":3030,"length1":16,"length2":17},{"diffs":[[0,"= this;\n"],[1,"\t"],[0,"var soun"]],"start1":3052,"start2":3052,"length1":16,"length2":17},{"diffs":[[0,"audio);\n"],[1,"\t"],[0,"return s"]],"start1":3095,"start2":3095,"length1":16,"length2":17},{"diffs":[[0,"}\n\n\n/**\n"],[1," "],[0,"* return"]],"start1":3118,"start2":3118,"length1":16,"length2":17},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"//return"]],"start1":3216,"start2":3216,"length1":16,"length2":17},{"diffs":[[0,"nation;\n"],[1,"\t"],[0,"return t"]],"start1":3249,"start2":3249,"length1":16,"length2":17},{"diffs":[[0,"/////\n//"],[-1," "],[1,"\t\t"],[0,"volume/m"]],"start1":3361,"start2":3361,"length1":17,"length2":18},{"diffs":[[0,"ume/mute"],[-1," "],[1,"\t\t\t\t\t\t\t"],[0,"//\n/////"]],"start1":3374,"start2":3374,"length1":17,"length2":23},{"diffs":[[0,"//////////\n\n/**\n"],[-1,""],[0,""],[1," "],[0,"* getter/setter "]],"start1":3464,"start2":3464,"length1":32,"length2":33},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":3543,"start2":3543,"length1":32,"length2":33},{"diffs":[[0,"volume;\n"],[1,"\t"],[0,"// updat"]],"start1":3599,"start2":3599,"length1":16,"length2":17},{"diffs":[[0," volume\n"],[1,"\t"],[0,"this._vo"]],"start1":3617,"start2":3617,"length1":16,"length2":17},{"diffs":[[0," value;\n"],[1,"\t"],[0,"// updat"]],"start1":3640,"start2":3640,"length1":16,"length2":17},{"diffs":[[0,"t muted\n"],[1,"\t"],[0,"if( this"]],"start1":3679,"start2":3679,"length1":16,"length2":17},{"diffs":[[0,"._muted "],[1," "],[0,"=== fals"]],"start1":3696,"start2":3696,"length1":16,"length2":17},{"diffs":[[0,"alse ){\n"],[1,"\t\t"],[0,"this._ga"]],"start1":3710,"start2":3710,"length1":16,"length2":18},{"diffs":[[0,"olume;\t\n"],[1,"\t"],[0,"}\n"],[1,"\t"],[0,"// retur"]],"start1":3755,"start2":3755,"length1":18,"length2":20},{"diffs":[[0,"for chained API\n"],[1,"\t"],[0,"return this;\n};\n"]],"start1":3782,"start2":3782,"length1":32,"length2":33},{"diffs":[[0,"rn this;\n};\n\n/**"],[-1,"\n"],[1," \n "],[0,"* getter/setter "]],"start1":3803,"start2":3803,"length1":33,"length2":35},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":3877,"start2":3877,"length1":32,"length2":33},{"diffs":[[0,"_muted;\n"],[1,"\t"],[0,"this._mu"]],"start1":3932,"start2":3932,"length1":16,"length2":17},{"diffs":[[0,"ed\t= value;\n"],[1,"\t"],[0,"this._gainNo"]],"start1":3950,"start2":3950,"length1":24,"length2":25},{"diffs":[[0,"volume;\n"],[1,"\t"],[0,"return t"]],"start1":4015,"start2":4015,"length1":16,"length2":17},{"diffs":[[0,"\n}\n\n/**\n"],[1," "],[0,"* to tog"]],"start1":4055,"start2":4055,"length1":16,"length2":17},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"if( this"]],"start1":4124,"start2":4124,"length1":16,"length2":17},{"diffs":[[0,"e);\n"],[1,"\t"],[0,"else\t"],[1,"\t\t"],[0,"this"]],"start1":4165,"start2":4165,"length1":13,"length2":16},{"diffs":[[0,"/////\n//"],[-1," "],[1,"\t\t"],[0,"pageVisi"]],"start1":4274,"start2":4274,"length1":17,"length2":18},{"diffs":[[0,"sibility"],[-1," "],[1,"\t\t\t\t\t\t\t"],[0,"//\n/////"]],"start1":4290,"start2":4290,"length1":17,"length2":23},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"// shim "]],"start1":4438,"start2":4438,"length1":16,"length2":17},{"diffs":[[0," vendor\n"],[1,"\t"],[0,"this._pa"]],"start1":4472,"start2":4472,"length1":16,"length2":17},{"diffs":[[0,"bilitychange'\t:\n"],[1,"\t\t"],[0,"(document.mozHid"]],"start1":4550,"start2":4550,"length1":32,"length2":34},{"diffs":[[0,"= undefined\t"],[1,"\t"],[0,"? 'mozvisibi"]],"start1":4590,"start2":4590,"length1":24,"length2":25},{"diffs":[[0,"bilitychange'\t:\n"],[1,"\t\t"],[0,"(document.msHidd"]],"start1":4613,"start2":4613,"length1":32,"length2":34},{"diffs":[[0,"defined\t"],[1,"\t"],[0,"? 'msvis"]],"start1":4656,"start2":4656,"length1":16,"length2":17},{"diffs":[[0,"ange'\t:\n"],[1,"\t\t"],[0,"(documen"]],"start1":4682,"start2":4682,"length1":16,"length2":18},{"diffs":[[0,"defined\t"],[1,"\t"],[0,"? 'webki"]],"start1":4721,"start2":4721,"length1":16,"length2":17},{"diffs":[[0,"tychange' :\n"],[1,"\t\t"],[0,"console.asse"]],"start1":4747,"start2":4747,"length1":24,"length2":26},{"diffs":[[0,"orted\")\n"],[1,"\t"],[0,"))));\n"],[1,"\t"],[0,"this._pa"]],"start1":4810,"start2":4810,"length1":22,"length2":24},{"diffs":[[0,"ed ? 'hidden' :\n"],[1,"\t\t"],[0,"(document.mozHid"]],"start1":4888,"start2":4888,"length1":32,"length2":34},{"diffs":[[0,"? 'mozHidden' :\n"],[1,"\t\t"],[0,"(document.msHidd"]],"start1":4940,"start2":4940,"length1":32,"length2":34},{"diffs":[[0,"dden' :\n"],[1,"\t\t"],[0,"(documen"]],"start1":4998,"start2":4998,"length1":16,"length2":18},{"diffs":[[0,"dden' :\n"],[1,"\t\t"],[0,"console."]],"start1":5056,"start2":5056,"length1":16,"length2":18},{"diffs":[[0,"orted\")\n"],[1,"\t"],[0,"))));\n"],[1,"\t"],[0,"// event"]],"start1":5115,"start2":5115,"length1":22,"length2":24},{"diffs":[[0,"e event\n"],[1,"\t"],[0,"this._$p"]],"start1":5167,"start2":5167,"length1":16,"length2":17},{"diffs":[[0,"function(){\n"],[1,"\t\t"],[0,"var isHidden"]],"start1":5208,"start2":5208,"length1":24,"length2":26},{"diffs":[[0," false;\n"],[1,"\t\t"],[0,"this.mut"]],"start1":5287,"start2":5287,"length1":16,"length2":18},{"diffs":[[0,"alse );\n"],[1,"\t"],[0,"}.bind(t"]],"start1":5327,"start2":5327,"length1":16,"length2":17},{"diffs":[[0,"(this);\n"],[1,"\t"],[0,"// bind "]],"start1":5342,"start2":5342,"length1":16,"length2":17},{"diffs":[[0,"he event itself\n"],[1,"\t"],[0,"document.addEven"]],"start1":5360,"start2":5360,"length1":32,"length2":33},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"// unbin"]],"start1":5520,"start2":5520,"length1":16,"length2":17},{"diffs":[[0," itself\n"],[1,"\t"],[0,"document"]],"start1":5548,"start2":5548,"length1":16,"length2":17},{"diffs":[[0,");\n}/**\n"],[1," "],[0,"* Constr"]],"start1":5652,"start2":5652,"length1":16,"length2":17},{"diffs":[[0,"tructor\n"],[1," "],[0,"*\n"],[1," "],[0,"* @class"]],"start1":5667,"start2":5667,"length1":18,"length2":20},{"diffs":[[0,"Audio.Sound\n"],[1," "],[0,"* @param {we"]],"start1":5733,"start2":5733,"length1":24,"length2":25},{"diffs":[[0,"ntext){\n"],[1,"\t"],[0,"console."]],"start1":5854,"start2":5854,"length1":16,"length2":17},{"diffs":[[0,"oContext );\n"],[1,"\t"],[0,"this._contex"]],"start1":5913,"start2":5913,"length1":24,"length2":25},{"diffs":[[0,"ontext;\n"],[1,"\t"],[0,"this._fi"]],"start1":5948,"start2":5948,"length1":16,"length2":17},{"diffs":[[0,"ode\t= null;\n"],[1,"\t"],[0,"this._lastNo"]],"start1":5969,"start2":5969,"length1":24,"length2":25},{"diffs":[[0,"= null;\n"],[1,"\t"],[0,"this._no"]],"start1":5997,"start2":5997,"length1":16,"length2":17},{"diffs":[[0,"s\t= {};\n};\n\n/**\n"],[1," "],[0,"* destructor\n*/\n"]],"start1":6016,"start2":6016,"length1":32,"length2":33},{"diffs":[[0,"tion(){\n};\n\n/**\n"],[-1,""],[0,""],[1," "],[0,"* getter for the"]],"start1":6099,"start2":6099,"length1":32,"length2":33},{"diffs":[[0,"s\t= function(){\n"],[1,"\t"],[0,"return this._nod"]],"start1":6182,"start2":6182,"length1":32,"length2":33},{"diffs":[[0,"._nodes;\n}\n\n/**\n"],[1," "],[0,"* @returns the f"]],"start1":6210,"start2":6210,"length1":32,"length2":33},{"diffs":[[0,"t\t= function(){\n"],[1,"\t"],[0,"return this._fir"]],"start1":6309,"start2":6309,"length1":32,"length2":33},{"diffs":[[0,"ode;\n}\n\n/**\n"],[1," "],[0,"* @returns t"]],"start1":6345,"start2":6345,"length1":24,"length2":25},{"diffs":[[0,"t\t= function(){\n"],[-1,""],[0,""],[1,"\t"],[0,"return this._las"]],"start1":6438,"start2":6438,"length1":32,"length2":33},{"diffs":[[0,"ties)\n{\n"],[1,"\t"],[0,"// updat"]],"start1":6549,"start2":6549,"length1":16,"length2":17},{"diffs":[[0,"ource()\n"],[1,"\t"],[0,"var last"]],"start1":6616,"start2":6616,"length1":16,"length2":17},{"diffs":[[0," false;\n"],[1,"\t"],[0,"if( last"]],"start1":6711,"start2":6711,"length1":16,"length2":17},{"diffs":[[0," node;\n\n"],[1,"\t"],[0,"// conne"]],"start1":6768,"start2":6768,"length1":16,"length2":17},{"diffs":[[0,"uitable\n"],[1,"\t"],[0,"if( this"]],"start1":6815,"start2":6815,"length1":16,"length2":17},{"diffs":[[0,"(node);\n"],[-1,"\n"],[1,"\t\n\t"],[0,"// updat"]],"start1":6876,"start2":6876,"length1":17,"length2":19},{"diffs":[[0,"astNode\n"],[1,"\t"],[0,"if( this"]],"start1":6923,"start2":6923,"length1":16,"length2":17},{"diffs":[[0,"ode\t= node;\n"],[1,"\t"],[0,"this._lastNo"]],"start1":6975,"start2":6975,"length1":24,"length2":25},{"diffs":[[0,"= node;\n"],[-1,"\n"],[1,"\t\t\n\t"],[0,"// apply"]],"start1":7003,"start2":7003,"length1":17,"length2":20},{"diffs":[[0,"he node\n"],[1,"\t"],[0,"for( var"]],"start1":7039,"start2":7039,"length1":16,"length2":17},{"diffs":[[0,"operties ){\n"],[1,"\t\t"],[0,"node[propert"]],"start1":7071,"start2":7071,"length1":24,"length2":26},{"diffs":[[0,"perty];\n"],[1,"\t"],[0,"}\n\n"],[1,"\t"],[0,"// for c"]],"start1":7116,"start2":7116,"length1":19,"length2":21},{"diffs":[[0,"ned API\n"],[1,"\t"],[0,"return t"]],"start1":7140,"start2":7140,"length1":16,"length2":17},{"diffs":[[0,";\n\n\n/**\n"],[1," "],[0,"* Clone "]],"start1":7163,"start2":7163,"length1":16,"length2":17},{"diffs":[[0,"a sound\n"],[1," "],[0,"* @retur"]],"start1":7223,"start2":7223,"length1":16,"length2":17},{"diffs":[[0,"e\t= function(){\n"],[1,"\t"],[0,"console.assert(t"]],"start1":7354,"start2":7354,"length1":32,"length2":33},{"diffs":[[0,"one.\");\n"],[1,"\t"],[0,"var orig"]],"start1":7443,"start2":7443,"length1":16,"length2":17},{"diffs":[[0,"Source;\n"],[1,"\t"],[0,"var clon"]],"start1":7481,"start2":7481,"length1":16,"length2":17},{"diffs":[[0,"ource()\n"],[1,"\t"],[0,"clone.bu"]],"start1":7529,"start2":7529,"length1":16,"length2":17},{"diffs":[[0,".buffer\t"],[1,"\t"],[0,"= orig.b"]],"start1":7543,"start2":7543,"length1":16,"length2":17},{"diffs":[[0,"buffer;\n"],[1,"\t"],[0,"clone.pl"]],"start1":7559,"start2":7559,"length1":16,"length2":17},{"diffs":[[0,"ckRate;\n"],[1,"\t"],[0,"clone.lo"]],"start1":7600,"start2":7600,"length1":16,"length2":17},{"diffs":[[0,"ne.loop\t"],[1,"\t"],[0,"= orig.l"]],"start1":7612,"start2":7612,"length1":16,"length2":17},{"diffs":[[0,"g.loop;\n"],[1,"\t"],[0,"clone.co"]],"start1":7626,"start2":7626,"length1":16,"length2":17},{"diffs":[[0,"ceDst);\n"],[1,"\t"],[0,"return c"]],"start1":7665,"start2":7665,"length1":16,"length2":17},{"diffs":[[0,"one;\n}\n\n/**\n"],[1," "],[0,"* add a buff"]],"start1":7683,"start2":7683,"length1":24,"length2":25},{"diffs":[[0,"rSource\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":7709,"start2":7709,"length1":18,"length2":20},{"diffs":[[0,"on(properties){\n"],[1,"\t"],[0,"var node\t= this."]],"start1":7850,"start2":7850,"length1":32,"length2":33},{"diffs":[[0,"ies){\n\tvar node\t"],[1,"\t"],[0,"= this._context."]],"start1":7860,"start2":7860,"length1":32,"length2":33},{"diffs":[[0,"ferSource()\n"],[1,"\t"],[0,"this._nodes."]],"start1":7902,"start2":7902,"length1":24,"length2":25},{"diffs":[[0,"erSource= node;\n"],[1,"\t"],[0,"return this._add"]],"start1":7931,"start2":7931,"length1":32,"length2":33},{"diffs":[[0,"erties)\n};\n\n/**\n"],[1," "],[0,"* add a panner\n*"]],"start1":7979,"start2":7979,"length1":32,"length2":33},{"diffs":[[0," panner\n"],[-1,"*\n"],[1," * \n "],[0,"* @param"]],"start1":8003,"start2":8003,"length1":18,"length2":21},{"diffs":[[0,"on(properties){\n"],[1,"\t"],[0,"var node\t= this."]],"start1":8139,"start2":8139,"length1":32,"length2":33},{"diffs":[[0,"ies){\n\tvar node\t"],[1,"\t"],[0,"= this._context."]],"start1":8149,"start2":8149,"length1":32,"length2":33},{"diffs":[[0,"atePanner()\n"],[1,"\t"],[0,"this._nodes."]],"start1":8185,"start2":8185,"length1":24,"length2":25},{"diffs":[[0,".panner\t= node;\n"],[1,"\t"],[0,"return this._add"]],"start1":8209,"start2":8209,"length1":32,"length2":33},{"diffs":[[0,"erties)\n};\n\n/**\n"],[1," "],[0,"* add a analyser"]],"start1":8257,"start2":8257,"length1":32,"length2":33},{"diffs":[[0,"nalyser\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":8283,"start2":8283,"length1":18,"length2":20},{"diffs":[[0,"on(properties){\n"],[1,"\t"],[0,"var node\t= this."]],"start1":8420,"start2":8420,"length1":32,"length2":33},{"diffs":[[0,"ies){\n\tvar node\t"],[1,"\t"],[0,"= this._context."]],"start1":8430,"start2":8430,"length1":32,"length2":33},{"diffs":[[0,"lyser()\n"],[1,"\t"],[0,"this._no"]],"start1":8472,"start2":8472,"length1":16,"length2":17},{"diffs":[[0,"nalyser\t= node;\n"],[1,"\t"],[0,"return this._add"]],"start1":8494,"start2":8494,"length1":32,"length2":33},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* add a "]],"start1":8550,"start2":8550,"length1":16,"length2":17},{"diffs":[[0,"ainNode\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":8568,"start2":8568,"length1":18,"length2":20},{"diffs":[[0,"rties){\n"],[1,"\t"],[0,"var node"]],"start1":8713,"start2":8713,"length1":16,"length2":17},{"diffs":[[0,"{\n\tvar node\t"],[1,"\t"],[0,"= this._cont"]],"start1":8719,"start2":8719,"length1":24,"length2":25},{"diffs":[[0,"eGainNode()\n"],[1,"\t"],[0,"this._nodes."]],"start1":8753,"start2":8753,"length1":24,"length2":25},{"diffs":[[0,"= node;\n"],[1,"\t"],[0,"return t"]],"start1":8787,"start2":8787,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* sound "]],"start1":8835,"start2":8835,"length1":16,"length2":17},{"diffs":[[0,"nstance\n"],[1," "],[0,"*\n"],[1," "],[0,"* @class"]],"start1":8853,"start2":8853,"length1":18,"length2":20},{"diffs":[[0,"ebAudio\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":8896,"start2":8896,"length1":18,"length2":20},{"diffs":[[0," to run\n"],[1," "],[0,"* @param"]],"start1":8958,"start2":8958,"length1":16,"length2":17},{"diffs":[[0,"Chain){\n"],[1,"\t"],[0,"this._we"]],"start1":9080,"start2":9080,"length1":16,"length2":17},{"diffs":[[0,"baudio;\n"],[1,"\t"],[0,"this._co"]],"start1":9108,"start2":9108,"length1":16,"length2":17},{"diffs":[[0,"ext();\n\n"],[1,"\t"],[0,"console."]],"start1":9152,"start2":9152,"length1":16,"length2":17},{"diffs":[[0,"ebAudio );\n\n"],[1,"\t"],[0,"// create a "]],"start1":9204,"start2":9204,"length1":24,"length2":25},{"diffs":[[0," needed\n"],[1,"\t"],[0,"if( node"]],"start1":9256,"start2":9256,"length1":16,"length2":17},{"diffs":[[0,"ined ){\n"],[1,"\t\t"],[0,"nodeChai"]],"start1":9288,"start2":9288,"length1":16,"length2":18},{"diffs":[[0,"ontext)\n"],[1,"\t\t\t\t\t"],[0,".bufferS"]],"start1":9347,"start2":9347,"length1":16,"length2":21},{"diffs":[[0,"nner();\n"],[1,"\t"],[0,"}\n"],[1,"\t"],[0,"// setup"]],"start1":9400,"start2":9400,"length1":18,"length2":20},{"diffs":[[0,"._chain\n"],[1,"\t"],[0,"console."]],"start1":9425,"start2":9425,"length1":16,"length2":17},{"diffs":[[0,"lder );\n"],[1,"\t"],[0,"this._ch"]],"start1":9492,"start2":9492,"length1":16,"length2":17},{"diffs":[[0,"Chain;\n\n"],[1,"\t"],[0,"// conne"]],"start1":9519,"start2":9519,"length1":16,"length2":17},{"diffs":[[0,"yNode()\n"],[1,"\t"],[0,"this._ch"]],"start1":9586,"start2":9586,"length1":16,"length2":17},{"diffs":[[0,"de() );\n"],[-1,"\n"],[1,"\t\n\t"],[0,"// creat"]],"start1":9646,"start2":9646,"length1":17,"length2":19},{"diffs":[[0,"e alias\n"],[1,"\t"],[0,"this._so"]],"start1":9670,"start2":9670,"length1":16,"length2":17},{"diffs":[[0,"Source;\n"],[1,"\t"],[0,"this._ga"]],"start1":9720,"start2":9720,"length1":16,"length2":17},{"diffs":[[0,"inNode;\n"],[1,"\t"],[0,"this._an"]],"start1":9768,"start2":9768,"length1":16,"length2":17},{"diffs":[[0,").analyser;\n"],[1,"\t"],[0,"this._panner"]],"start1":9812,"start2":9812,"length1":24,"length2":25},{"diffs":[[0,"panner;\n"],[-1,"\n"],[1,"\t\n\t"],[0,"// sanit"]],"start1":9860,"start2":9860,"length1":17,"length2":19},{"diffs":[[0,"y check\n"],[1,"\t"],[0,"console."]],"start1":9879,"start2":9879,"length1":16,"length2":17},{"diffs":[[0,"yet supported\")\n"],[1,"\t"],[0,"console.assert(t"]],"start1":9940,"start2":9940,"length1":32,"length2":33},{"diffs":[[0,"yet supported\")\n"],[1,"\t"],[0,"console.assert(t"]],"start1":10007,"start2":10007,"length1":32,"length2":33},{"diffs":[[0,"orted\")\n"],[1,"\t"],[0,"console."]],"start1":10082,"start2":10082,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* destru"]],"start1":10153,"start2":10153,"length1":16,"length2":17},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"// disco"]],"start1":10217,"start2":10217,"length1":16,"length2":17},{"diffs":[[0,"ebaudio\n"],[1,"\t"],[0,"this._ch"]],"start1":10252,"start2":10252,"length1":16,"length2":17},{"diffs":[[0,"nect();\n"],[1,"\t"],[0,"// destr"]],"start1":10286,"start2":10286,"length1":16,"length2":17},{"diffs":[[0,"._chain\n"],[1,"\t"],[0,"this._ch"]],"start1":10310,"start2":10310,"length1":16,"length2":17},{"diffs":[[0,"troy();\n"],[1,"\t"],[0,"this._ch"]],"start1":10334,"start2":10334,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* vendor"]],"start1":10363,"start2":10363,"length1":16,"length2":17},{"diffs":[[0," jQuery\n"],[1," "],[0,"* @names"]],"start1":10407,"start2":10407,"length1":16,"length2":17},{"diffs":[[0,"/////////////\n//"],[-1," "],[1,"\t\t\t\t\t\t\t\t\t\t"],[0,"//\n/////////////"]],"start1":10548,"start2":10548,"length1":33,"length2":42},{"diffs":[[0,"//////\n\n/**\n"],[-1,""],[0,""],[1," "],[0,"* getter of "]],"start1":10653,"start2":10653,"length1":24,"length2":25},{"diffs":[[0,"s\t= function(){\n"],[1,"\t"],[0,"return this._cha"]],"start1":10726,"start2":10726,"length1":32,"length2":33},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* @retur"]],"start1":10771,"start2":10771,"length1":16,"length2":17},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"return t"]],"start1":10893,"start2":10893,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* play t"]],"start1":10945,"start2":10945,"length1":16,"length2":17},{"diffs":[[0,"y the sound\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param {Nu"]],"start1":10959,"start2":10959,"length1":26,"length2":28},{"diffs":[[0,"pe.play\t"],[1,"\t"],[0,"= functi"]],"start1":11053,"start2":11053,"length1":16,"length2":17},{"diffs":[[0,"function(time){\n"],[1,"\t"],[0,"if( time === und"]],"start1":11064,"start2":11064,"length1":32,"length2":33},{"diffs":[[0,"){\n\tif( time ==="],[1," "],[0," undefined )\ttim"]],"start1":11077,"start2":11077,"length1":32,"length2":33},{"diffs":[[0,"me\t= 0;\n"],[1,"\t"],[0,"// clone"]],"start1":11109,"start2":11109,"length1":16,"length2":17},{"diffs":[[0,"rSource\n"],[1,"\t"],[0,"var clon"]],"start1":11136,"start2":11136,"length1":16,"length2":17},{"diffs":[[0,"urce();\n"],[1,"\t"],[0,"// set t"]],"start1":11187,"start2":11187,"length1":16,"length2":17},{"diffs":[[0," noteOn\n"],[1,"\t"],[0,"clonedNo"]],"start1":11206,"start2":11206,"length1":16,"length2":17},{"diffs":[[0,"teOn(time);\n"],[1,"\t"],[0,"// create th"]],"start1":11228,"start2":11228,"length1":24,"length2":25},{"diffs":[[0," object\n"],[1,"\t"],[0,"var sour"]],"start1":11261,"start2":11261,"length1":16,"length2":17},{"diffs":[[0,"rce\t= {\n"],[1,"\t\t"],[0,"node\t: c"]],"start1":11277,"start2":11277,"length1":16,"length2":18},{"diffs":[[0,"edNode,\n"],[1,"\t\t"],[0,"stop\t: f"]],"start1":11298,"start2":11298,"length1":16,"length2":18},{"diffs":[[0,"tion(time){\n"],[1,"\t\t\t"],[0,"if( time ==="]],"start1":11319,"start2":11319,"length1":24,"length2":27},{"diffs":[[0,"if( time ==="],[1," "],[0," undefined )"]],"start1":11334,"start2":11334,"length1":24,"length2":25},{"diffs":[[0,"me\t= 0;\n"],[1,"\t\t\t"],[0,"this.nod"]],"start1":11362,"start2":11362,"length1":16,"length2":19},{"diffs":[[0,"(time);\n"],[1,"\t\t\t"],[0,"return s"]],"start1":11390,"start2":11390,"length1":16,"length2":19},{"diffs":[[0,"ned API\n"],[1,"\t\t"],[0,"}\n"],[1,"\t"],[0,"}\n"],[1,"\t"],[0,"// retur"]],"start1":11427,"start2":11427,"length1":20,"length2":24},{"diffs":[[0,"/ return it\n"],[1,"\t"],[0,"return sourc"]],"start1":11444,"start2":11444,"length1":24,"length2":25},{"diffs":[[0,"source;\n};\n\n/**\n"],[1," "],[0,"* getter/setter "]],"start1":11464,"start2":11464,"length1":32,"length2":33},{"diffs":[[0," volume\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":11503,"start2":11503,"length1":18,"length2":20},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":11632,"start2":11632,"length1":32,"length2":33},{"diffs":[[0,".value;\n"],[1,"\t"],[0,"this._ga"]],"start1":11701,"start2":11701,"length1":16,"length2":17},{"diffs":[[0,".value\t= value;\n"],[1,"\t"],[0,"return this;\t// "]],"start1":11729,"start2":11729,"length1":32,"length2":33},{"diffs":[[0,"PI\n};\n\n\n/**\n"],[1," "],[0,"* getter/set"]],"start1":11775,"start2":11775,"length1":24,"length2":25},{"diffs":[[0,"he loop\n"],[-1,"*\n"],[1," * \n "],[0,"* @param"]],"start1":11808,"start2":11808,"length1":18,"length2":21},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":11936,"start2":11936,"length1":32,"length2":33},{"diffs":[[0,"e.loop;\n"],[1,"\t"],[0,"this._so"]],"start1":11997,"start2":11997,"length1":16,"length2":17},{"diffs":[[0,"e.loop\t= value;\n"],[1,"\t"],[0,"return this;\t// "]],"start1":12017,"start2":12017,"length1":32,"length2":33},{"diffs":[[0,"ned API\n};\n\n/**\n"],[1," "],[0,"* getter/setter "]],"start1":12058,"start2":12058,"length1":32,"length2":33},{"diffs":[[0," buffer\n"],[-1,"*\n"],[1," * \n "],[0,"* @param"]],"start1":12104,"start2":12104,"length1":18,"length2":21},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":12234,"start2":12234,"length1":32,"length2":33},{"diffs":[[0,"buffer;\n"],[1,"\t"],[0,"this._so"]],"start1":12297,"start2":12297,"length1":16,"length2":17},{"diffs":[[0,"buffer\t= value;\n"],[1,"\t"],[0,"return this;\t// "]],"start1":12319,"start2":12319,"length1":32,"length2":33},{"diffs":[[0,";\n\n\n/**\n"],[1," "],[0,"* Set pa"]],"start1":12369,"start2":12369,"length1":16,"length2":17},{"diffs":[[0,"nerCone\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":12405,"start2":12405,"length1":18,"length2":20},{"diffs":[[0,"angle in radian\n"],[1," "],[0,"* @param {Number"]],"start1":12462,"start2":12462,"length1":32,"length2":33},{"diffs":[[0," radian\n"],[1," "],[0,"* @param"]],"start1":12532,"start2":12532,"length1":16,"length2":17},{"diffs":[[0,"Gain)\n{\n"],[1,"\t"],[0,"this._pa"]],"start1":12688,"start2":12688,"length1":16,"length2":17},{"diffs":[[0," 180 / Math.PI;\n"],[1,"\t"],[0,"this._panner.con"]],"start1":12739,"start2":12739,"length1":32,"length2":33},{"diffs":[[0," 180 / Math.PI;\n"],[1,"\t"],[0,"this._panner.con"]],"start1":12798,"start2":12798,"length1":32,"length2":33},{"diffs":[[0,"erGain;\n"],[1,"\t"],[0,"return t"]],"start1":12847,"start2":12847,"length1":16,"length2":17},{"diffs":[[0,"ned API\n};\n\n/**\n"],[1," "],[0,"* getter/setter "]],"start1":12880,"start2":12880,"length1":32,"length2":33},{"diffs":[[0,"rConeInnerAngle\n"],[-1,"*\n"],[1," * \n "],[0,"* @param {Number"]],"start1":12925,"start2":12925,"length1":34,"length2":37},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":13042,"start2":13042,"length1":32,"length2":33},{"diffs":[[0," 180 * Math.PI;\n"],[1,"\t"],[0,"this._panner.con"]],"start1":13121,"start2":13121,"length1":32,"length2":33},{"diffs":[[0," 180 / Math.PI;\n"],[1,"\t"],[0,"return this;\t// "]],"start1":13175,"start2":13175,"length1":32,"length2":33},{"diffs":[[0,"ned API\n};\n\n/**\n"],[1," "],[0,"* getter/setter "]],"start1":13216,"start2":13216,"length1":32,"length2":33},{"diffs":[[0,"erAngle\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":13269,"start2":13269,"length1":18,"length2":20},{"diffs":[[0,"unction(value){\n"],[1,"\t"],[0,"if( value === un"]],"start1":13377,"start2":13377,"length1":32,"length2":33},{"diffs":[[0,"ath.PI;\n"],[1,"\t"],[0,"this._pa"]],"start1":13464,"start2":13464,"length1":16,"length2":17},{"diffs":[[0,"ath.PI;\n"],[1,"\t"],[0,"return t"]],"start1":13518,"start2":13518,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* getter"]],"start1":13559,"start2":13559,"length1":16,"length2":17},{"diffs":[[0,"terGain\n"],[-1,"*\n"],[1," * \n "],[0,"* @param"]],"start1":13603,"start2":13603,"length1":18,"length2":21},{"diffs":[[0,"value){\n"],[1,"\t"],[0,"if( valu"]],"start1":13709,"start2":13709,"length1":16,"length2":17},{"diffs":[[0,"erGain;\n"],[1,"\t"],[0,"this._pa"]],"start1":13771,"start2":13771,"length1":16,"length2":17},{"diffs":[[0," value;\n"],[1,"\t"],[0,"return t"]],"start1":13808,"start2":13808,"length1":16,"length2":17},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* comput"]],"start1":13849,"start2":13849,"length1":16,"length2":17},{"diffs":[[0,"r term)\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":13927,"start2":13927,"length1":18,"length2":20},{"diffs":[[0,"account\n"],[1," "],[0,"* @retur"]],"start1":14003,"start2":14003,"length1":16,"length2":17},{"diffs":[[0,"idth)\n{\n"],[1,"\t"],[0,"// handl"]],"start1":14116,"start2":14116,"length1":16,"length2":17},{"diffs":[[0,"ter\n"],[1,"\t"],[0,"width\t"],[1,"\t"],[0,"= wi"]],"start1":14142,"start2":14142,"length1":14,"length2":16},{"diffs":[[0,"th : 2;\n"],[1,"\t"],[0,"// inint"]],"start1":14181,"start2":14181,"length1":16,"length2":17},{"diffs":[[0,"ariable\n"],[1,"\t"],[0,"var anal"]],"start1":14200,"start2":14200,"length1":16,"length2":17},{"diffs":[[0,"alyser;\n"],[1,"\t"],[0,"var freq"]],"start1":14232,"start2":14232,"length1":16,"length2":17},{"diffs":[[0,"Count);\n"],[1,"\t"],[0,"// get t"]],"start1":14292,"start2":14292,"length1":16,"length2":17},{"diffs":[[0,"cy data\n"],[1,"\t"],[0,"analyser"]],"start1":14319,"start2":14319,"length1":16,"length2":17},{"diffs":[[0,"qByte);\n"],[1,"\t"],[0,"// compu"]],"start1":14361,"start2":14361,"length1":16,"length2":17},{"diffs":[[0,"the sum\n"],[1,"\t"],[0,"var sum\t"]],"start1":14381,"start2":14381,"length1":16,"length2":17},{"diffs":[[0,"m\n\tvar sum\t= 0;\n"],[1,"\t"],[0,"for(var i = 0; i"]],"start1":14387,"start2":14387,"length1":32,"length2":33},{"diffs":[[0,"; i++){\n"],[1,"\t\t"],[0,"sum\t+= f"]],"start1":14428,"start2":14428,"length1":16,"length2":18},{"diffs":[[0,"yte[i];\n"],[1,"\t"],[0,"}\n"],[1,"\t"],[0,"// compl"]],"start1":14450,"start2":14450,"length1":18,"length2":20},{"diffs":[[0,"plitude\n"],[1,"\t"],[0,"var ampl"]],"start1":14480,"start2":14480,"length1":16,"length2":17},{"diffs":[[0,"256-1);\n"],[1,"\t"],[0,"// retur"]],"start1":14518,"start2":14518,"length1":16,"length2":17},{"diffs":[[0,"pliture\n"],[1,"\t"],[0,"return a"]],"start1":14539,"start2":14539,"length1":16,"length2":17},{"diffs":[[0,"\n}\n\n/**\n"],[1," "],[0,"* Genera"]],"start1":14565,"start2":14565,"length1":16,"length2":17},{"diffs":[[0,"buffer.\n"],[1," "],[0,"* FIXME "]],"start1":14596,"start2":14596,"length1":16,"length2":17},{"diffs":[[0,"conds){\n"],[1,"\t"],[0,"// handl"]],"start1":14695,"start2":14695,"length1":16,"length2":17},{"diffs":[[0,"rameter\n"],[1,"\t"],[0,"hertz\t= "]],"start1":14716,"start2":14716,"length1":16,"length2":17},{"diffs":[[0," : 200;\n"],[1,"\t"],[0,"seconds\t"]],"start1":14760,"start2":14760,"length1":16,"length2":17},{"diffs":[[0,"ds : 1;\n"],[1,"\t"],[0,"// set d"]],"start1":14808,"start2":14808,"length1":16,"length2":17},{"diffs":[[0,"lt value"],[-1,"\n"],[1,"\t\n\t"],[0,"var nCha"]],"start1":14829,"start2":14829,"length1":17,"length2":19},{"diffs":[[0,"ls\t= 1;\n"],[1,"\t"],[0,"var samp"]],"start1":14851,"start2":14851,"length1":16,"length2":17},{"diffs":[[0," 44100;\n"],[1,"\t"],[0,"var ampl"]],"start1":14876,"start2":14876,"length1":16,"length2":17},{"diffs":[[0,"de\t= 2;\n"],[1,"\t"],[0,"// creat"]],"start1":14896,"start2":14896,"length1":16,"length2":17},{"diffs":[[0," buffer\n"],[1,"\t"],[0,"var buff"]],"start1":14918,"start2":14918,"length1":16,"length2":17},{"diffs":[[0,"eRate);\n"],[1,"\t"],[0,"var fArr"]],"start1":15008,"start2":15008,"length1":16,"length2":17},{"diffs":[[0,"ata(0);\n"],[1,"\t"],[0,"// fill "]],"start1":15048,"start2":15048,"length1":16,"length2":17},{"diffs":[[0," buffer\n"],[1,"\t"],[0,"for(var "]],"start1":15068,"start2":15068,"length1":16,"length2":17},{"diffs":[[0,"ngth; i++){\n"],[1,"\t\t"],[0,"var time\t= i"]],"start1":15105,"start2":15105,"length1":24,"length2":26},{"diffs":[[0,"leRate;\n"],[1,"\t\t"],[0,"var angl"]],"start1":15145,"start2":15145,"length1":16,"length2":18},{"diffs":[[0,"ath.PI;\n"],[1,"\t\t"],[0,"fArray[i"]],"start1":15183,"start2":15183,"length1":16,"length2":18},{"diffs":[[0,"litude;\n"],[1,"\t"],[0,"}\n"],[1,"\t"],[0,"// set t"]],"start1":15224,"start2":15224,"length1":18,"length2":20},{"diffs":[[0," buffer\n"],[1,"\t"],[0,"this.buf"]],"start1":15246,"start2":15246,"length1":16,"length2":17},{"diffs":[[0,"uffer);\n"],[1,"\t"],[0,"return t"]],"start1":15268,"start2":15268,"length1":16,"length2":17},{"diffs":[[0,"}\n\n\n/**\n"],[1," "],[0,"* Put th"]],"start1":15309,"start2":15309,"length1":16,"length2":17},{"diffs":[[0,"Bar)\n{\t\n"],[1,"\t"],[0,"// get a"]],"start1":15434,"start2":15434,"length1":16,"length2":17},{"diffs":[[0,"er node\n"],[1,"\t"],[0,"var anal"]],"start1":15456,"start2":15456,"length1":16,"length2":17},{"diffs":[[0,"alyser;\n"],[1,"\t"],[0,"// alloc"]],"start1":15488,"start2":15488,"length1":16,"length2":17},{"diffs":[[0,"y frame\n"],[1,"\t"],[0,"//this._"]],"start1":15566,"start2":15566,"length1":16,"length2":17},{"diffs":[[0,"rivHisto"],[-1," "],[1,"\t"],[0,"= this._"]],"start1":15584,"start2":15584,"length1":17,"length2":17},{"diffs":[[0,"Count);\n"],[1,"\t"],[0,"this._pr"]],"start1":15652,"start2":15652,"length1":16,"length2":17},{"diffs":[[0,"Count);\n"],[1,"\t"],[0,"// just "]],"start1":15734,"start2":15734,"length1":16,"length2":17},{"diffs":[[0,"n alias\n"],[1,"\t"],[0,"var freq"]],"start1":15752,"start2":15752,"length1":16,"length2":17},{"diffs":[[0,"Histo;\n\n"],[1,"\t"],[0,"// get t"]],"start1":15786,"start2":15786,"length1":16,"length2":17},{"diffs":[[0,"he data\n"],[1,"\t"],[0,"//analys"]],"start1":15803,"start2":15803,"length1":16,"length2":17},{"diffs":[[0,"eqData)\n"],[1,"\t"],[0,"analyser"]],"start1":15847,"start2":15847,"length1":16,"length2":17},{"diffs":[[0,"qData);\n"],[1,"\t"],[0,"//analys"]],"start1":15889,"start2":15889,"length1":16,"length2":17},{"diffs":[[0,"qData)\n\n"],[1,"\t"],[0,"/**\n"],[1,"\t "],[0,"* This s"]],"start1":15934,"start2":15934,"length1":20,"length2":23},{"diffs":[[0," almost\n"],[1,"\t"],[0,"*/\n"],[1,"\t"],[0,"var make"]],"start1":15987,"start2":15987,"length1":19,"length2":21},{"diffs":[[0,"ength){\n"],[1,"\t\t"],[0,"var barW"]],"start1":16037,"start2":16037,"length1":16,"length2":18},{"diffs":[[0,"ength);\n"],[1,"\t\t"],[0,"var nBar"]],"start1":16089,"start2":16089,"length1":16,"length2":18},{"diffs":[[0,"W);\n"],[1,"\t\t"],[0,"var arr\t"],[1,"\t"],[0,"= []\n"],[1,"\t\t"],[0,"for("]],"start1":16140,"start2":16140,"length1":21,"length2":26},{"diffs":[[0,"Idx++){\n"],[1,"\t\t\t"],[0,"var sum\t"]],"start1":16211,"start2":16211,"length1":16,"length2":19},{"diffs":[[0,"um\t= 0;\n"],[1,"\t\t\t"],[0,"for(var "]],"start1":16227,"start2":16227,"length1":16,"length2":19},{"diffs":[[0,", x++){\n"],[1,"\t\t\t\t"],[0,"sum += s"]],"start1":16266,"start2":16266,"length1":16,"length2":20},{"diffs":[[0,"Arr[x];\n"],[-1,"}\n"],[1,"\t\t\t}\n\t\t\t"],[0,"var aver"]],"start1":16288,"start2":16288,"length1":18,"length2":24},{"diffs":[[0,"m/barW;\n"],[1,"\t\t\t"],[0,"arr[arrI"]],"start1":16320,"start2":16320,"length1":16,"length2":19},{"diffs":[[0,"verage;\n"],[-1,"}\n"],[1,"\t\t}\n\t\t"],[0,"return a"]],"start1":16346,"start2":16346,"length1":18,"length2":22},{"diffs":[[0,"rn arr;\n"],[1,"\t"],[0,"}\n"],[1,"\t"],[0,"// build"]],"start1":16364,"start2":16364,"length1":18,"length2":20},{"diffs":[[0,"e histo\n"],[1,"\t"],[0,"var hist"]],"start1":16387,"start2":16387,"length1":16,"length2":17},{"diffs":[[0," nBar);\n"],[1,"\t"],[0,"// retur"]],"start1":16427,"start2":16427,"length1":16,"length2":17},{"diffs":[[0,"turn it\n"],[1,"\t"],[0,"return h"]],"start1":16441,"start2":16441,"length1":16,"length2":17},{"diffs":[[0,"/////\n//"],[-1," "],[1,"\t\t\t\t\t\t\t\t\t\t"],[0,"//\n/////"]],"start1":16544,"start2":16544,"length1":17,"length2":26},{"diffs":[[0,"//////\n\n/**\n"],[1," "],[0,"* Load a sou"]],"start1":16641,"start2":16641,"length1":24,"length2":25},{"diffs":[[0," * Load a sound\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param {String"]],"start1":16653,"start2":16653,"length1":34,"length2":36},{"diffs":[[0,"to load\n"],[1," "],[0,"* @param"]],"start1":16716,"start2":16716,"length1":16,"length2":17},{"diffs":[[0,"lback){\n"],[1,"\t"],[0,"this._lo"]],"start1":16859,"start2":16859,"length1":16,"length2":17},{"diffs":[[0,"uffer){\n"],[1,"\t\t"],[0,"this._so"]],"start1":16908,"start2":16908,"length1":16,"length2":18},{"diffs":[[0,"buffer;\n"],[1,"\t\t"],[0,"callback"]],"start1":16940,"start2":16940,"length1":16,"length2":18},{"diffs":[[0,"(this);\n"],[1,"\t"],[0,"}.bind(t"]],"start1":16970,"start2":16970,"length1":16,"length2":17},{"diffs":[[0,"tion(){\n"],[1,"\t\t"],[0,"console."]],"start1":16997,"start2":16997,"length1":16,"length2":18},{"diffs":[[0,"\"+url);\n"],[1,"\t"],[0,"});\n"],[1,"\t"],[0,"return t"]],"start1":17042,"start2":17042,"length1":20,"length2":22},{"diffs":[[0,"};\n\n/**\n"],[1," "],[0,"* Load a"]],"start1":17088,"start2":17088,"length1":16,"length2":17},{"diffs":[[0,"a sound\n"],[1," "],[0,"*\n"],[1," "],[0,"* @param"]],"start1":17115,"start2":17115,"length1":18,"length2":20},{"diffs":[[0,"e sound\n"],[1," "],[0,"* @param"]],"start1":17172,"start2":17172,"length1":16,"length2":17},{"diffs":[[0,"tional)\n"],[1," "],[0,"* @param"]],"start1":17268,"start2":17268,"length1":16,"length2":17},{"diffs":[[0,"Error){\n"],[1,"\t"],[0,"var cont"]],"start1":17432,"start2":17432,"length1":16,"length2":17},{"diffs":[[0,"ontext;\n"],[1,"\t"],[0,"var requ"]],"start1":17462,"start2":17462,"length1":16,"length2":17},{"diffs":[[0,"uest();\n"],[1,"\t"],[0,"request."]],"start1":17499,"start2":17499,"length1":16,"length2":17},{"diffs":[[0," true);\n"],[1,"\t"],[0,"request."]],"start1":17532,"start2":17532,"length1":16,"length2":17},{"diffs":[[0,"uffer';\n"],[1,"\t"],[0,"// Decod"]],"start1":17571,"start2":17571,"length1":16,"length2":17},{"diffs":[[0,"onously\n"],[1,"\t"],[0,"request."]],"start1":17597,"start2":17597,"length1":16,"length2":17},{"diffs":[[0,"ion() {\n"],[1,"\t\t"],[0,"context."]],"start1":17628,"start2":17628,"length1":16,"length2":18},{"diffs":[[0,"ffer) {\n"],[1,"\t\t\t"],[0,"onLoad &"]],"start1":17691,"start2":17691,"length1":16,"length2":19},{"diffs":[[0,"uffer);\n"],[1,"\t\t"],[0,"}, funct"]],"start1":17720,"start2":17720,"length1":16,"length2":18},{"diffs":[[0,"tion(){\n"],[1,"\t\t\t"],[0,"onError "]],"start1":17737,"start2":17737,"length1":16,"length2":19},{"diffs":[[0,"();\n"],[1,"\t\t"],[0,"});\n"],[1,"\t"],[0,"};\n"],[1,"\t"],[0,"// a"]],"start1":17766,"start2":17766,"length1":15,"length2":19},{"diffs":[[0,"request\n"],[1,"\t"],[0,"request."]],"start1":17803,"start2":17803,"length1":16,"length2":17},{"diffs":[[0,";\n}\n/**\n"],[1," "],[0,"* gowith"]],"start1":17826,"start2":17826,"length1":16,"length2":17},{"diffs":[[0,"library\n"],[1," "],[0,"* https:"]],"start1":17888,"start2":17888,"length1":16,"length2":17},{"diffs":[[0,"tion(){\n"],[1,"\t"],[0,"var self"]],"start1":17972,"start2":17972,"length1":16,"length2":17},{"diffs":[[0," }, 0);\n"],[1,"\t"],[0,"return s"]],"start1":18065,"start2":18065,"length1":16,"length2":17},{"diffs":[[0,"elf = {\n"],[1,"\t\t"],[0,"destroy "]],"start1":18082,"start2":18082,"length1":16,"length2":18},{"diffs":[[0,"Id); },\n"],[1,"\t\t"],[0,"par\t: fu"]],"start1":18143,"start2":18143,"length1":16,"length2":18},{"diffs":[[0,"isSeq){\n"],[1,"\t\t\t"],[0,"if(isSeq"]],"start1":18178,"start2":18178,"length1":16,"length2":19},{"diffs":[[0,"sh([]);\n"],[1,"\t\t\t"],[0,"stack[st"]],"start1":18252,"start2":18252,"length1":16,"length2":19},{"diffs":[[0,"lback);\n"],[1,"\t\t\t"],[0,"return s"]],"start1":18293,"start2":18293,"length1":16,"length2":19},{"diffs":[[0,"n self;\n"],[1,"\t\t"],[0,"},seq\t: "]],"start1":18309,"start2":18309,"length1":16,"length2":18},{"diffs":[[0,"ue);\t},\n"],[1,"\t\t"],[0,"_next\t: "]],"start1":18375,"start2":18375,"length1":16,"length2":18},{"diffs":[[0,"esult){\n"],[1,"\t\t\t"],[0,"var erro"]],"start1":18408,"start2":18408,"length1":16,"length2":19},{"diffs":[[0,"n == 1;\n"],[1,"\t\t\t"],[0,"for(var "]],"start1":18527,"start2":18527,"length1":16,"length2":19},{"diffs":[[0,"; i++){\n"],[1,"\t\t\t\t"],[0,"(functio"]],"start1":18573,"start2":18573,"length1":16,"length2":20},{"diffs":[[0,"index){\n"],[1,"\t\t\t\t\t"],[0,"fct(func"]],"start1":18600,"start2":18600,"length1":16,"length2":21},{"diffs":[[0,"esult){\n"],[1,"\t\t\t\t\t\t"],[0,"errors[i"]],"start1":18634,"start2":18634,"length1":16,"length2":22},{"diffs":[[0," error;\n"],[1,"\t\t\t\t\t\t"],[0,"results["]],"start1":18663,"start2":18663,"length1":16,"length2":22},{"diffs":[[0,"result;\t"],[-1,"\n"],[1,"\t\n\t\t\t\t\t\t"],[0,"if(--nbR"]],"start1":18694,"start2":18694,"length1":17,"length2":24},{"diffs":[[0,"esults)\n"],[1,"\t\t\t\t\t"],[0,"}, err, "]],"start1":18783,"start2":18783,"length1":16,"length2":21},{"diffs":[[0,"result)\n"],[1,"\t\t\t\t"],[0,"})(callb"]],"start1":18804,"start2":18804,"length1":16,"length2":20},{"diffs":[[0,"i);\n"],[-1,"}\n"],[1,"\t\t\t}\n\t\t"],[0,"}\n"],[1,"\t"],[0,"}\n};\n"],[-1,"\n"]],"start1":18833,"start2":18833,"length1":14,"length2":19}]],"length":18852,"saved":false}
{"contributors":[],"silentsave":true,"ts":1351176701695,"patch":[[{"diffs":[[0,"ilable\n\t"],[-1,"console.ass"],[1,"al"],[0,"ert(WebA"]],"start1":1614,"start2":1614,"length1":27,"length2":18}]],"length":18843,"saved":false}
{"ts":1351176799057,"patch":[[{"diffs":[[0,"ilable\n\t"],[-1,"al"],[1,"console.ass"],[0,"ert(WebA"]],"start1":1614,"start2":1614,"length1":18,"length2":27}]],"length":18852,"saved":false}
{"contributors":[],"silentsave":true,"ts":1351182003001,"patch":[[{"diffs":[[0,"ilable\n\t"],[-1,"console.assert("],[1,"if"],[0,"WebAudio"]],"start1":1614,"start2":1614,"length1":31,"length2":18}]],"length":18839,"saved":false}
{"ts":1351182004579,"patch":[[{"diffs":[[0,"able\n\tif"],[1,"("],[0,"WebAudio"]],"start1":1616,"start2":1616,"length1":16,"length2":17}]],"length":18840,"saved":false}
{"ts":1351182008159,"patch":[[{"diffs":[[0,"ilable ="],[-1,"=="],[0," true, '"]],"start1":1639,"start2":1639,"length1":18,"length2":16}]],"length":18838,"saved":false}
{"ts":1351182012131,"patch":[[{"diffs":[[0,"able"],[-1," = true"],[0,", 'w"]],"start1":1641,"start2":1641,"length1":15,"length2":8}]],"length":18831,"saved":false}
{"ts":1351182013181,"patch":[[{"diffs":[[0,"vailable"],[1,")"],[0,", 'webki"]],"start1":1637,"start2":1637,"length1":16,"length2":17}]],"length":18832,"saved":false}
{"ts":1351182015345,"patch":[[{"diffs":[[0,"ble\n\tif("],[1,"!"],[0,"WebAudio"]],"start1":1617,"start2":1617,"length1":16,"length2":17}]],"length":18833,"saved":false}
{"ts":1351182019244,"patch":[[{"diffs":[[0,"ailable)"],[-1,","],[1," alert"],[0," 'webkit"]],"start1":1639,"start2":1639,"length1":17,"length2":22}]],"length":18838,"saved":false}
{"ts":1351182021142,"patch":[[{"diffs":[[0,"e) alert"],[-1," "],[1,"("],[0,"'webkitA"]],"start1":1645,"start2":1645,"length1":17,"length2":17}]],"length":18838,"saved":false}
{"contributors":[],"silentsave":true,"ts":1351186390009,"patch":[[{"diffs":[[0,"ilable) "],[1,"*/"],[0,"alert('w"]],"start1":1640,"start2":1640,"length1":16,"length2":18}]],"length":18840,"saved":false}
{"ts":1351186392219,"patch":[[{"diffs":[[0,"ilable\n\t"],[1,"/*"],[0,"if(!WebA"]],"start1":1614,"start2":1614,"length1":16,"length2":18}]],"length":18842,"saved":false}
{"ts":1351186406356,"patch":[[{"diffs":[[0,"ilable\n\t"],[-1,"/*"],[0,"if(!WebA"]],"start1":1614,"start2":1614,"length1":18,"length2":16}]],"length":18840,"saved":false}
{"ts":1351186408496,"patch":[[{"diffs":[[0,"ilable) "],[-1,"*/"],[0,"alert('w"]],"start1":1640,"start2":1640,"length1":18,"length2":16}]],"length":18838,"saved":false}
{"ts":1351186409066,"patch":[[{"diffs":[[0,"audio\n *"],[-1," "],[0,""],[1,""],[0,"\n * TODO"]],"start1":1349,"start2":1349,"length1":17,"length2":16},{"diffs":[[0,"h to run"],[-1," "],[0,""],[1,""],[0,"\n*/\nWebA"]],"start1":1539,"start2":1539,"length1":17,"length2":16},{"diffs":[[0,"o/games/"],[-1," "],[0,""],[1,""],[0,"\n\tthis._"]],"start1":1970,"start2":1970,"length1":17,"length2":16},{"diffs":[[0,"ation );"],[-1,"\t"],[0,"\n\n\t// in"]],"start1":2170,"start2":2170,"length1":17,"length2":16},{"diffs":[[0,"yCtor();"],[-1,"\t"],[0,"\n};\n\n\n/*"]],"start1":2225,"start2":2225,"length1":17,"length2":16},{"diffs":[[0,"\n\n/**\n *"],[-1," "],[0,""],[1,""],[0,"\n *\n * @"]],"start1":2433,"start2":2433,"length1":17,"length2":16},{"diffs":[[0,"_volume;"],[-1,"\t"],[0,""],[1,""],[0,"\n\t}\n\t// "]],"start1":3733,"start2":3733,"length1":17,"length2":16},{"diffs":[[0,"\n};\n\n/**"],[-1," "],[0,""],[1,""],[0,"\n * gett"]],"start1":3790,"start2":3790,"length1":17,"length2":16},{"diffs":[[0,"(node);\n"],[-1,"\t"],[0,""],[1,""],[0,"\n\t// upd"]],"start1":6854,"start2":6854,"length1":17,"length2":16},{"diffs":[[0,"= node;\n"],[-1,"\t\t"],[0,""],[1,""],[0,"\n\t// app"]],"start1":6980,"start2":6980,"length1":18,"length2":16},{"diffs":[[0," a panner\n *"],[-1," "],[0,""],[1,""],[0,"\n * @param {"]],"start1":7976,"start2":7976,"length1":25,"length2":24},{"diffs":[[0,"de() );\n"],[-1,"\t"],[0,""],[1,""],[0,"\n\t// cre"]],"start1":9620,"start2":9620,"length1":17,"length2":16},{"diffs":[[0,"panner;\n"],[-1,"\t"],[0,""],[1,""],[0,"\n\t// san"]],"start1":9833,"start2":9833,"length1":17,"length2":16},{"diffs":[[0," loop\n *"],[-1," "],[0,""],[1,""],[0,"\n * @par"]],"start1":11782,"start2":11782,"length1":17,"length2":16},{"diffs":[[0,"uffer\n *"],[-1," "],[0,""],[1,""],[0,"\n * @par"]],"start1":12077,"start2":12077,"length1":17,"length2":16},{"diffs":[[0,"Angle\n *"],[-1," "],[0,""],[1,""],[0,"\n * @par"]],"start1":12905,"start2":12905,"length1":17,"length2":16},{"diffs":[[0,"rGain\n *"],[-1," "],[0,""],[1,""],[0,"\n * @par"]],"start1":13574,"start2":13574,"length1":17,"length2":16},{"diffs":[[0,"lt value"],[-1,"\t"],[0,""],[1,""],[0,"\n\tvar nC"]],"start1":14797,"start2":14797,"length1":17,"length2":16},{"diffs":[[0,"(nBar)\n{"],[-1,"\t"],[0,""],[1,""],[0,"\n\t// get"]],"start1":15399,"start2":15399,"length1":17,"length2":16},{"diffs":[[0," result;"],[-1,"\t\t"],[0,""],[1,""],[0,"\n\t\t\t\t\t\ti"]],"start1":18659,"start2":18659,"length1":18,"length2":16}]],"length":18816,"saved":false}
